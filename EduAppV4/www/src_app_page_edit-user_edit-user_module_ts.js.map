{"version":3,"sources":["./src/app/page/edit-user/edit-user-routing.module.ts","./src/app/page/edit-user/edit-user.module.ts","./src/app/page/edit-user/edit-user.page.ts","./src/app/page/edit-user/edit-user.page.scss","./src/app/page/edit-user/edit-user.page.html"],"names":[],"mappings":"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","file":"src_app_page_edit-user_edit-user_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EditUserPage } from './edit-user.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditUserPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditUserPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditUserPageRoutingModule } from './edit-user-routing.module';\n\nimport { EditUserPage } from './edit-user.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EditUserPageRoutingModule\n  ],\n  declarations: [EditUserPage]\n})\nexport class EditUserPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { NavController, LoadingController } from '@ionic/angular';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\n\nimport { AngularFireStorage } from '@angular/fire/compat/storage'\n\nimport { AngularFireAuth, } from '@angular/fire/compat/auth';\nimport { map } from '@firebase/util';\n@Component({\n  selector: 'app-edit-user',\n  templateUrl: './edit-user.page.html',\n  styleUrls: ['./edit-user.page.scss'],\n})\nexport class EditUserPage implements OnInit {\n  public static URL;\n  imgUrl;\n  selectedPhoto;\n  public static loading;\n\n\n  constructor(private camera: Camera,\n\n    public navController: NavController,\n    public laodingController: LoadingController,\n    public ngFireAuth: AngularFireAuth,\n    private angularFirestore: AngularFireStorage,) { }\n\n  ngOnInit() {\n   // this.angularFirestore.getReference(\"/User_Profile_Images\").child(userEmail);\n  }\n\n  public async OpenCamera() {\n    const options: CameraOptions = {\n      quality: 20,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      saveToPhotoAlbum: true,\n    };\n    await this.camera.getPicture(options).then(\n      (imageData) => {\n        let base64Image = 'data:image/jpeg;base64,' + imageData;\n        this.selectedPhoto = this.datURLtoBlob(base64Image);        \n        this.uploadImage();       \n      },\n      (err) => {\n        alert(err);\n      }\n    );\n  }\n\n\n  datURLtoBlob(dataURL) {\n    try {\n      alert('datURLtoBlob')\n      alert(dataURL)\n      let binay = atob(dataURL.split(',')[1]);\n      //let binay = atob(dataURL);\n      alert(binay)\n      let array = [];\n      for (let i = 0; i < binay.length; i++) {\n        array.push(binay.charCodeAt(i));\n      }\n      return new Blob([new Uint8Array(array)], { type: 'image/jpeg' });\n    } catch (ex) {\n      alert(ex);\n    }\n\n\n\n  };\n\n  async uploadImage() {\n    EditUserPage.loading = await this.laodingController.create({\n      message: 'Uploading...',\n      showBackdrop:false,\n\n    })\n    await EditUserPage.loading.present();\n    if (this.selectedPhoto) {\n      alert('4' + this.selectedPhoto);\n      var name = new Date().getTime();\n      var uploadTask = this.angularFirestore.storage.ref().child(name.toString()).put(this.selectedPhoto);\n\n      EditUserPage.loading.dismiss();\n      try{\n        uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n          //EditUserPage.URL = downloadURL;\n          this.imgUrl = downloadURL\n          alert(downloadURL);\n          EditUserPage.loading.dismiss();\n          alert('onsuc')\n        });\n      }catch(ex){\n\n      }\n\n      // uploadTask.then(this.onSuccess, this.onError);\n    }\n  }\n\n  // onSuccess() {\n  //   alert('onsuc');\n  //   return snapshot => {\n  //     snapshot.ref.getDownloadUrl().then(function (downloadURL) {\n  //       EditUserPage.URL = downloadURL;\n  //       this.imgUrl = downloadURL\n  //       alert(downloadURL);\n  //       EditUserPage.loading.dismiss();\n  //       alert('onsuc')\n  //     });\n  //   }\n  // }\n\n  onError() {\n    alert('oneerror');\n  }\n\n  onSuccess = snapshot => {\n    snapshot.ref.getDownloadUrl().then(function (downloadURL) {\n      alert('onsuc1')\n      EditUserPage.URL = downloadURL;\n      EditUserPage.loading.dismiss();\n      alert('onsuc')\n    })\n\n  }\n\n  // onError= error=>{\n  //   console.log(error);\n  //   alert(error)\n  // }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlZGl0LXVzZXIucGFnZS5zY3NzIn0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>editUser</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-button class=\\\"btn-cam\\\" color=\\\"secondary\\\" size=\\\"small\\\" style=\\\"width: 150px\\\" (click)=\\\"OpenCamera()\\\">Open\\n    Camera</ion-button>\\n    <img src=\\\"{{imgUrl}}\\\"  height=\\\"100\\\" width=\\\"100\\\" />\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}